{% extends 'base.html.twig' %}

{% block title %}
  {{ application.title }}
{% endblock %}

{% block body %}
  <div class="bandeau-promo">
    {% if product_offer is not null %}
      <p>
        {{ product_offer.title }}
        -
        {{ product_offer.message1 }}
        -
        {{ product_offer.message2 }}
        -
        {{ product_offer.message3 }}
        -
        <a href="{{ path('app_product_offer_visitors', { slug: product_offer.slug }) }}">VOIR L'OFFRE</a>
      </p>
    {% else %}
      <p>Pas d'offre disponible pour le moment.</p>
    {% endif %}
  </div>
  <div class="d-none d-lg-block">
    {% include 'navbar_visitors_lg.html.twig' %}
  </div>

  <div class="d-block d-lg-none">
    {% include 'navbar_visitors_md.html.twig' %}
  </div>

  <div class="application-page-section text-white px-5 py-5" id="dynamic-hero-applicationpage-background">
    <h1 class="wow fadeInUp" data-wow-delay="0.1s">{{ application.title }}</h1>
  </div>

  <div class="row mt-5 px-3">
    <div class="col-lg-4 col-md-12 rounded mb-5 d-flex justify-content-center align-items-center">
      <div class="card" style="width: 90%;">
        <img src="{{ application.image1 }}" class="card-img-top" alt="..." />
        <div class="card-body">
          <h1 class="card-title">{{ application.title }}</h1>
          <p class="card-text">{{ application.description }}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">{{ application.message1 }}</li>
          <li class="list-group-item">{{ application.message2 }}</li>
          <li class="list-group-item">{{ application.message3 }}</li>
        </ul>
        <div class="card-body">
          <p class="h2-style">Brass'Air - Spécialiste de la Ventilation</p>
        </div>
      </div>
    </div>

    <div class="col-lg-8 col-md-12 d-flex justify-content-center">
      <div id="carouselApplicationImage" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{{ application.image1 }}" class="d-block w-100 rounded" alt="image 1" />
          </div>
          {% if application.image2 %}
            <div class="carousel-item">
              <img src="{{ application.image2 }}" class="d-block w-100 rounded" alt="image 2" />
            </div>
          {% endif %}
          {% if application.image3 %}
            <div class="carousel-item">
              <img src="{{ application.image3 }}" class="d-block w-100 rounded" alt="image 3" />
            </div>
          {% endif %}
          {% if application.image4 %}
            <div class="carousel-item">
              <img src="{{ application.image4 }}" class="d-block w-100 rounded" alt="image 4" />
            </div>
          {% endif %}
          {% if application.image5 %}
            <div class="carousel-item">
              <img src="{{ application.image5 }}" class="d-block w-100 rounded" alt="image 5" />
            </div>
          {% endif %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselApplicationImage" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Précédent</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselApplicationImage" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Suivant</span>
        </button>
      </div>
    </div>
  </div>

  <div class="m-5">
    <h2>Détails techniques</h2>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="produits-tab" data-bs-toggle="tab" data-bs-target="#produits" type="button" role="tab" aria-controls="produits" aria-selected="false">Produits</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="photos-tab" data-bs-toggle="tab" data-bs-target="#photos" type="button" role="tab" aria-controls="photos" aria-selected="false">Photos</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="documentations-tab" data-bs-toggle="tab" data-bs-target="#documentations" type="button" role="tab" aria-controls="documentations" aria-selected="false">Documentation</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="consommation-tab" data-bs-toggle="tab" data-bs-target="#consommation" type="button" role="tab" aria-controls="consommation" aria-selected="false">Consommation d'énergie</button>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="produits" role="tabpanel" aria-labelledby="home-tab">
        <p class="mt-2">1.Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam in amet tempora! Non est alias nesciunt exercitationem aliquid, maxime reiciendis similique fugiat ad laborum commodi voluptas veritatis minus officia quo.</p>
      </div>

      <div class="tab-pane fade" id="photos" role="tabpanel" aria-labelledby="home-tab">
        <p class="mt-2">2.Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam in amet tempora! Non est alias nesciunt exercitationem aliquid, maxime reiciendis similique fugiat ad laborum commodi voluptas veritatis minus officia quo.</p>
      </div>

      <div class="tab-pane fade" id="documentations" role="tabpanel" aria-labelledby="home-tab">
        <p class="mt-2">3.Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam in amet tempora! Non est alias nesciunt exercitationem aliquid, maxime reiciendis similique fugiat ad laborum commodi voluptas veritatis minus officia quo.</p>
      </div>

      <div class="tab-pane fade" id="consommation" role="tabpanel" aria-labelledby="home-tab">
        <p class="mt-2">4.Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam in amet tempora! Non est alias nesciunt exercitationem aliquid, maxime reiciendis similique fugiat ad laborum commodi voluptas veritatis minus officia quo.</p>
      </div>
    </div>
  </div>
  {% include 'contact_bar.html.twig' %}
  <div class="d-none d-lg-block">
    {% include 'footer.html.twig' %}
  </div>

  <div class="d-block d-lg-none">
    {% include 'footer_md.html.twig' %}
  </div>
{% endblock %}
{% block javascripts %}
  <script>
    // ajout image 1 hero section
    document.addEventListener('DOMContentLoaded', function () {
      var imageUrl = '{{ application.mainImage }}' // Récupère l'URL de l'image depuis Twig
      var heroSection = document.getElementById('dynamic-hero-applicationpage-background')
    
      // Définit l'image de fond
      heroSection.style.backgroundImage = 'url(' + imageUrl + ')'
      heroSection.style.backgroundSize = 'cover'
      heroSection.style.backgroundPosition = 'center'
      heroSection.style.minHeight = '650px'
      // Transformer l'élément en conteneur flex
      heroSection.style.display = 'flex'
    
      // Appliquer les styles flexbox
      heroSection.style.justifyContent = 'center'
      heroSection.style.alignItems = 'center'
    })
  </script>
{% endblock %}
