{% extends 'base.html.twig' %}

{% block title %}
  Fichier image
{% endblock %}

{% block body %}
  <div class="d-none d-lg-block">
    {% include 'navbar_lg_admin.html.twig' %}
  </div>

  <div class="d-block d-lg-none">
    {% include 'navbar_md_admin.html.twig' %}
  </div>
  <div class="mx-5 mt-3">
    <h1 class="mt-3">Fichier image</h1>

    <table class="table">
      <tbody>
        <tr>
          <th>Id</th>
          <td>{{ image_file.id }}</td>
        </tr>
        <tr>
          <th>Nom du fichier</th>
          <td>{{ image_file.imageName }}</td>
        </tr>
        <tr>
          <th>Image</th>
          <td>
            <img src="{{ asset('images/produits/' ~ image_file.imageName) }}" />
          </td>
        </tr>
        <tr>
          <th>URL du fichier</th>
          <td>
            {% set baseURL = 'https://127.0.0.1:8000' %}
            {# Base de l'URL #}
            {% set imageFile = image_file.imageName %}
            {# Nom du fichier MP3 #}

            {% set imageURL = baseURL ~ '/images/produits/' ~ imageFile %}
            {# Concaténation de l'URL #}

            {{ imageURL }}
          </td>
        </tr>
        <tr>
          <th>Taille du fichier</th>
          <td>
            {% set fileSizeInBytes = image_file.imageSize %}
            {% set fileSizeInMegabytes = fileSizeInBytes / 1024 * 1024 %}
            {{ fileSizeInMegabytes|number_format(2) }}
            Mo
          </td>
        </tr>
        <tr>
          <th>Modifié le</th>
          <td>{{ image_file.updatedAt ? image_file.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
      </tbody>
    </table>

    <a href="{{ path('app_image_file_index') }}">Revenir à la liste</a>

    <a href="{{ path('app_image_file_edit', { id: image_file.id }) }}">éditer</a>

    {{ include('image_file/_delete_form.html.twig') }}
  </div>
{% endblock %}
